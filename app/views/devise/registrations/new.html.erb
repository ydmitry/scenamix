<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => {  :class => "form-horizontal" }) do |f| %>
  <fieldset>  
    <div id="legend">
      <legend class="">Sign up</legend>
    </div>

    <%- if devise_error_messages!.present? %>
      <div class="alert alert-error">
        <%= devise_error_messages! %>
      </div>
    <% end -%>

    <div class="control-group">
      <label class="control-label" for="email"><%= f.label :email %></label>
      <div class="controls"><%= f.email_field :email %></div>
    </div>

    <div class="control-group">
      <label class="control-label" for="password"><%= f.label :password %></label>
      <div class="controls"><%= f.password_field :password %></div>
    </div>

    <div class="control-group">
      <div class="controls">
        <%= f.submit "Sign up", :class => "btn btn-large btn-success" %>
        or 
        <%- if devise_mapping.omniauthable? %>
          <%- resource_class.omniauth_providers.each do |provider| %>
            <%= link_to image_tag('/assets/' + provider.to_s + '-sign-in.png', :border => 0), omniauth_authorize_path(resource_name, provider) %><br />
          <% end -%>
        <% end -%>
      </div>
    </div>
  </fieldset>
<% end %>

<%= render "devise/shared/links" %>
